# 求给定目录下相同内容的文件
## 思路
- 相同文件肯定会有相同的md５值，所以肯定要用到hashlib这个模块
- 如何获取相同md5值的文件，这里使用字典这种数据结构
- 因为md5值一定是惟一的，所以可以作为字典的key，如果key一样，那么说明文件名相同，而文件名存放在一个列表中
- 使用字典的has_key()方法，如果有多个相同的md5值，那么就使用append()方法，把对应的文件名存入在字典的value中，也即是列表中
- 如果有某个key的value长度大于１，那么说明有相同内容的文件，即可找到相同内容的文件

## 代码示例
```
1   #!/usr/bin/env python
1 #-*- coding:utf8 -*-
2 
3 import os
4 import sys
5 import hashlib
6 
7 def md5sum(file):
8     md5 = hashlib.md5()
9     fd = open(file)
10     while True:
11         data = fd.read( 1024 * 4 )
12         if data:
13             md5.update(data)
14         else:
15             break
16     fd.close()
17 
18     return md5.hexdigest()
19 
20 def gen_dict( topdir ):
21     dic = {}
22     pdf = os.walk(topdir)
23     
24     for root, dirs, files in pdf:
25         for name in files:
26             #print os.path.join( root, name )
27             filename = os.path.join(root, name)
28             md5_sum = md5sum(filename) 
29 
30             if dic.has_key( md5_sum ):
31                 dic[md5_sum].append( filename )
32             else:
33                 dic[md5_sum] = [filename]
34     return dic  
35 
36 if '__main__' == __name__:
37     #print gen_dict( sys.argv[1] )
38     
39     for k, v in gen_dict( sys.argv[1] ).items():
40         if len(v) > 1:
41             print k, v
```
