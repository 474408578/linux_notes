##扩展wc命令
带有-n参数的python版的wc程序，
如果有-n，那么就不会显示total一行了
```
1	#!/usr/bin/env python
2	#-*- coding:utf8 -*-
3	
4	import sys
5	import os
6	from optparse import OptionParser
7	
8	def opt_fun():
9	    parser = OptionParser()
10	    """这里还是不可以出现中文，不然会有如下提示
11	                        Traceback (most recent call last):
12	                        ... ...
13	                        UnicodeDecodeError: 'ascii' codec can't decode byte 0xe7 in position 113: ordinal not in range(128)
14	    """
15	    parser.add_option("-c", "--char",
16	                        dest = "characters",
17	                        action = "store_true",
18	                        default = False,
19	                        #help = "统计字符个数"
20	                        help = "Count the characters number."
21	            )
22	
23	    parser.add_option("-w", "--word",
24	                        dest = "words",
25	                        action = "store_true",
26	                        default = False,
27	                        #help = "统计字母个数"
28	                        help = "Counter the number of words"
29	            )
30	
31	    parser.add_option("-l", "--line",
32	                        dest = "lines",
33	                        action = "store_true",
34	                        default = False,
35	                        #help = "统计行数"
36	                        help = "Counter the lines."
37	            )
38	
39	    parser.add_option("-n", "--nototal",
40	                        dest = "nototal",
41	                        action = "store_true",
42	                        default = False,
43	                        help = "Don't display the total line."
44	            )
45	    options, args = parser.parse_args()
46	
47	    return options, args
48	
49	def get_count( data ):
50	    chars = len( data )
51	    words = len( data.split() )
52	    lines = data.count('\n')
53	
54	    return chars, words, lines
55	
56	def show(options, chars, words, lines, filename):
57	    if options.lines:
58	        print lines,
59	    if options.words:
60	        print words,
61	    if options.characters:
62	        print chars,
63	    print filename
64	
65	def main():
66	    options, args = opt_fun()
67	    if not ( options.characters or options.words or options.lines ):
68	        options.characters, options.words, options.lines = True, True, True
69	
70	    if args:
71	        file_len = len( args )
72	        total_lines, total_words, total_chars = 0, 0, 0
73	        for fn in args:
74	            if os.path.isfile( fn ):
75	                with open( fn ) as fd:
76	                    data = fd.read()
77	                chars, words, lines = get_count( data )
78	                show(options, chars, words, lines, fn)
79	                if file_len > 1:
80	                    total_lines += lines
81	                    total_words += words
82	                    total_chars += chars
83	            elif os.path.isdir( fn ):
84	                print >> sys.stdout,  "IOError: [Errno 21] Is a directory: \'%s\'" % fn
85	            else:
86	                #print >> sys.stderr, "%s: [Errno 21] Is not a file or directory: \'%s\'" % (sys.argv[0], fn)
87	                sys.stderr.write("%s: [Errno 21] Is not a file or directory: \'%s\'\n" % (sys.argv[0], fn))
88	        if file_len > 1 and not options.nototal:
89	                show(options, total_chars, total_words, total_lines, "total")
90	    else:
91	        data = sys.stdin.read()
92	        fn = ''
93	        chars, words, lines = get_count( data )
94	        show(options, chars, words, lines, fn)
95	
96	if '__main__' == __name__:
97	    main()
```
